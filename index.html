<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Instructional Design Assistant</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body{font-family:system-ui,Segoe UI,Arial,sans-serif;margin:0;padding:24px;background:#fafafa}
    #app{max-width:900px;margin:0 auto;display:grid;gap:16px}
    label{display:block}
    input,textarea{width:100%;padding:8px}
    button{padding:10px 16px;font-weight:600;cursor:pointer}
    .msg{margin-top:8px}
    .bad{color:#a00}
    .card{background:#fff;border:1px solid #ddd;border-radius:8px;padding:16px}
    .mono{font-family:ui-monospace,SFMono-Regular,Menlo,Consolas,monospace}
  </style>
  <script>
    // REQUIRED: point this at your Cloudflare Worker base URL (no trailing slash)
    // Example: https://your-worker.example.workers.dev
    window.CF_WORKER_URL = "https://REPLACE-ME.workers.dev";
  </script>
  <!-- Load the helper that defines window.runAIDraft -->
  <script src="api/draft.js"></script>
  <!-- App logic comes after the helper -->
  <script src="app.js" defer></script>
</head>
<body>
  <main id="app">
    <h1 style="margin:0;">Instructional Design Planner</h1>

    <label>
      <div style="font-weight:600;">Organization Name</div>
      <input id="orgName" type="text" placeholder="Acme Corp">
    </label>

    <label>
      <div style="font-weight:600;">Overview</div>
      <textarea id="overview" rows="5" placeholder="Project summary, goals, constraints"></textarea>
    </label>

    <label>
      <div style="font-weight:600;">Number of Modules <span style="font-weight:400;">(leave blank for AI)</span></div>
      <input id="moduleCount" type="number" min="1" style="width:240px;">
    </label>

    <div>
      <div style="font-weight:600;">Learning Experience Types</div>
      <div style="display:grid;gap:8px;margin-top:8px;">
        <label><input type="checkbox" name="lx" value="Live Session"> Live Session</label>
        <label><input type="checkbox" name="lx" value="Coaching/Mentoring"> Coaching/Mentoring</label>
        <label><input type="checkbox" name="lx" value="eLearning"> eLearning</label>
        <label><input type="checkbox" name="lx" value="Software Simulation"> Software Simulation</label>
        <label><input type="checkbox" name="lx" value="Practical Application Activities"> Practical Application Activities</label>
      </div>
    </div>

    <label>
      <div style="font-weight:600;">Audience</div>
      <input id="audience" type="text" placeholder="Who will be trained">
    </label>

    <button id="launchBtn">Launch AI Assistant</button>
    <div id="aiMsg" class="msg"></div>

    <section class="card" aria-live="polite">
      <h2 style="margin-top:0">Result</h2>
      <div id="results"></div>
      <details style="margin-top:10px">
        <summary>Raw JSON</summary>
        <pre id="raw" class="mono">{}</pre>
      </details>
    </section>
  </main>
</body>
</html>
