<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>AI Instructional Designer</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <!-- 1) SET YOUR WORKER URL -->
  <script>
    // Example: "https://id-assistant.jasons-c51.workers.dev"
    window.CF_WORKER_URL = "https://YOUR-WORKER-URL";
  </script>
  <style>
    body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;margin:0;padding:0;background:#f7f7f7}
    header{padding:16px 20px;background:#111;color:#fff}
    main{max-width:1100px;margin:24px auto;padding:0 20px}
    .card{background:#fff;border:1px solid #ddd;border-radius:12px;padding:16px;margin-bottom:16px}
    .row{display:grid;grid-template-columns:1fr 1fr;gap:12px}
    .row-3{display:grid;grid-template-columns:1fr 1fr 1fr;gap:12px}
    label{display:block;font-weight:600;margin-bottom:6px}
    input, textarea, select, button{width:100%;padding:10px;border:1px solid #ccc;border-radius:10px;font-size:14px}
    textarea{min-height:110px}
    button.primary{background:#111;color:#fff;border-color:#111;cursor:pointer}
    button.secondary{background:#fff;color:#111;border-color:#111;cursor:pointer}
    .actions{display:flex;gap:8px;justify-content:flex-end}
    .small{font-size:12px;color:#555}
    .modules{display:flex;flex-direction:column;gap:12px}
    .module{border:1px solid #e5e5e5;border-radius:10px;padding:12px}
    .mod-title{font-weight:700;margin:0 0 8px 0}
    ul{margin:6px 0 0 18px}
    .mono{font-family:ui-monospace, SFMono-Regular, Menlo, monospace;white-space:pre-wrap}
    .err{color:#a00}
    .success{color:#0a0}
  </style>
</head>
<body>
  <header>
    <h1>AI Instructional Designer</h1>
    <div class="small">Generates named modules with 3â€“6 outcomes per module.</div>
  </header>

  <main>
    <form id="ida-form" class="card">
      <h2>Inputs</h2>

      <div class="row">
        <div>
          <label for="audience">Audience</label>
          <textarea id="audience" name="audience" placeholder="Who is this for? Roles, context, prior knowledge."></textarea>
        </div>
        <div>
          <label for="goals">Business Goals</label>
          <textarea id="goals" name="goals" placeholder="What business outcomes should this training enable?"></textarea>
        </div>
      </div>

      <div class="row">
        <div>
          <label for="constraints">Constraints</label>
          <textarea id="constraints" name="constraints" placeholder="Time limits, tools, compliance requirements, delivery format, etc."></textarea>
        </div>
        <div>
          <label for="modules">Number of modules</label>
          <input id="modules" name="modules" type="number" min="0" value="0" />
          <div class="small">Set to 0 to let AI decide the module count.</div>
        </div>
      </div>

      <div class="actions" style="margin-top:12px">
        <button type="button" class="secondary" id="btn-clear">Clear</button>
        <button type="button" class="primary" id="btn-generate">Generate</button>
      </div>
      <div id="status" class="small" style="margin-top:8px"></div>
    </form>

    <section id="output" class="card" aria-live="polite">
      <h2>Result</h2>
      <div id="render"></div>
      <div class="actions" style="margin-top:12px">
        <button type="button" id="copy-json" class="secondary">Copy JSON</button>
        <button type="button" id="copy-md" class="secondary">Copy Markdown</button>
      </div>
      <details style="margin-top:10px">
        <summary>Raw JSON</summary>
        <pre id="raw" class="mono">{}</pre>
      </details>
    </section>
  </main>

  <!-- 2) APP CODE -->
  <script src="./api/draft.js"></script>
  <script src="./app.js"></script>
</body>
</html>
